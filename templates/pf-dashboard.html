{% extends 'dashboard_base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pf-dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="top-bar">
    <button class="hamburger" id="hamburger">
        <i class="fas fa-bars"></i>
    </button>
    <h1 class="logo">COLLAGE ALUMNI SYSTEM</h1>
    <div class="top-bar-action">
        <div class="user-profile-mini">
            <img src="{{ user.profile_img.url }}" alt="User Avatar" class="user-avatar-mini">
            <span>{{ user.username }}</span>
        </div>
        <a href="{% url 'logout' %}" class="logout-btn">
            <i class="fas fa-sign-out-alt logout-icon"></i>
        </a>
    </div>
</div>

<div class="dashboard-content">
    <div class="welcome-banner">
        <h2>Welcome Back, {{ user.first_name }}!</h2>
        <p>Here's what's happening with your alumni network today.</p>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon events">
                <i class="fas fa-calendar-check"></i>
            </div>
            <div class="stat-info">
                <h3>12</h3>
                <p>Upcoming Events</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon jobs">
                <i class="fas fa-briefcase"></i>
            </div>
            <div class="stat-info">
                <h3>25</h3>
                <p>New Job Postings</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon connections">
                <i class="fas fa-user-friends"></i>
            </div>
            <div class="stat-info">
                <h3>150+</h3>
                <p>Alumni Connections</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon messages">
                <i class="fas fa-envelope"></i>
            </div>
            <div class="stat-info">
                <h3>5</h3>
                <p>Unread Messages</p>
            </div>
        </div>
    </div>

    <div class="content-grid">
        <div class="recent-section">
            <div class="section-header">
                <h3>Recent Job Postings</h3>
                <a href="{% url 'dashboard-jobs' %}" class="view-all">View All</a>
            </div>
            {% for job in jobs %}
            <div class="job-card-mini">
                <div class="job-info">
                    <h4>{{ job.job_title }}</h4>
                    <p>{{ job.company_name }} â€¢ {{ job.location }}</p>
                </div>
                <span class="job-type">{{ job.employment_type }}</span>
            </div>
            {% empty %}
            <p>No recent jobs found.</p>
            {% endfor %}
        </div>

        <div class="recent-section">
            <div class="section-header">
                <h3>Upcoming Events</h3>
                <a href="{% url 'dashboard-events' %}" class="view-all">View All</a>
            </div>
            {% for event in events %}
            <div class="event-card-mini">
                <div class="event-date">
                    <span class="day">{{ event.event_date|date:"d" }}</span>
                    <span class="month">{{ event.event_date|date:"M" }}</span>
                </div>
                <div class="event-info">
                    <h4>{{ event.event_name }}</h4>
                    <p>{{ event.event_location }}</p>
                </div>
            </div>
            {% empty %}
            <p>No upcoming events found.</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}